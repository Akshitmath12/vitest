// Test generated by RoostGPT for test ReactStoryBook using AI Type Open AI and AI Model gpt-4

const mockServiceWorker = require('./mockServiceWorker');

describe('mockServiceWorker', () => {
  let addEventListenerMock;
  let eventMock;

  beforeEach(() => {
    addEventListenerMock = jest.spyOn(self, 'addEventListener');
    eventMock = { waitUntil: jest.fn() };
  });

  afterEach(() => {
    addEventListenerMock.mockRestore();
  });

  test('should call addEventListener with correct arguments', () => {
    expect(addEventListenerMock).toHaveBeenCalledWith('activate', expect.any(Function));
  });

  test('should call event.waitUntil with correct arguments', () => {
    const eventFunction = addEventListenerMock.mock.calls[0][1];
    eventFunction(eventMock);
    expect(eventMock.waitUntil).toHaveBeenCalledWith(self.clients.claim());
  });

  test('should throw an error when event.waitUntil is not a function', () => {
    eventMock.waitUntil = null;
    const eventFunction = addEventListenerMock.mock.calls[0][1];
    expect(() => eventFunction(eventMock)).toThrow();
  });
});
