// Test generated by RoostGPT for test ReactStoryBook using AI Type Open AI and AI Model gpt-4

const mockServiceWorker = require('./mockServiceWorker');

describe('mockServiceWorker', () => {
  let addEventListenerSpy;

  beforeAll(() => {
    addEventListenerSpy = jest.spyOn(self, 'addEventListener');
  });

  afterEach(() => {
    addEventListenerSpy.mockClear();
  });

  test('should call addEventListener with "install" and a function', () => {
    mockServiceWorker();
    expect(addEventListenerSpy).toHaveBeenCalledWith('install', expect.any(Function));
  });

  test('should call skipWaiting when install event is fired', () => {
    const skipWaitingSpy = jest.spyOn(self, 'skipWaiting');
    addEventListenerSpy.mockImplementation((event, handler) => {
      if (event === 'install') {
        handler();
      }
    });
    mockServiceWorker();
    expect(skipWaitingSpy).toHaveBeenCalled();
  });
});
