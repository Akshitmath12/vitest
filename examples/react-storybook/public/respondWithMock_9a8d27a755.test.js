// Test generated by RoostGPT for test ReactStoryBook using AI Type Open AI and AI Model gpt-4

const { respondWithMock } = require('./mockServiceWorker');
const sleep = require('sleep-promise');

jest.mock('sleep-promise');

describe('respondWithMock', () => {
  beforeEach(() => {
    sleep.mockClear();
  });

  test('should delay the response by the specified time', async () => {
    const response = { delay: 1000, body: 'test' };
    sleep.mockResolvedValueOnce();

    await respondWithMock(response);

    expect(sleep).toHaveBeenCalledWith(response.delay);
  });

  test('should return a Response with the specified body and response', async () => {
    const response = { delay: 1000, body: 'test' };
    sleep.mockResolvedValueOnce();

    const result = await respondWithMock(response);

    expect(result).toBeInstanceOf(Response);
    expect(result.body).toBe(response.body);
    expect(result.delay).toBe(response.delay);
  });

  test('should throw an error if delay is not a number', async () => {
    const response = { delay: 'invalid', body: 'test' };

    await expect(respondWithMock(response)).rejects.toThrow();
  });
});
