// Test generated by RoostGPT for test ReactStoryBook using AI Type Open AI and AI Model gpt-4

require('@testing-library/jest-dom');
const { setGlobalConfig } = require('@storybook/testing-react');
const { getWorker } = require('msw-storybook-addon');
const globalStorybookConfig = require('../.storybook/preview');

// Set global configuration for Storybook
setGlobalConfig(globalStorybookConfig);

describe('Test suite for getWorker close method', () => {
  let worker;

  beforeAll(() => {
    // Initialize worker before running the tests
    worker = getWorker();
  });

  test('should successfully close the worker', () => {
    const closeSpy = jest.spyOn(worker, 'close');
    worker.close();
    expect(closeSpy).toHaveBeenCalled();
  });

  test('should throw an error if worker is already closed', () => {
    // Close the worker
    worker.close();
    // Attempt to close the worker again should throw an error
    expect(() => worker.close()).toThrow();
  });

  afterAll(() => {
    // Cleanup: Ensure worker is closed after all tests
    worker.close();
  });
});
